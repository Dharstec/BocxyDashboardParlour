"use strict";(self.webpackChunkecommerce_dashboard=self.webpackChunkecommerce_dashboard||[]).push([[438],{5438:(G,f,o)=>{o.r(f),o.d(f,{OrderModule:()=>c});var u=o(6895),_=o(8827),m=o(8729),g=o(4006),t=o(4650);class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-order"]],decls:1,vars:0,template:function(e,r){1&e&&t._UZ(0,"router-outlet")},dependencies:[m.lC]});var s=o(671),O=o(7766),x=o(5259),Z=o(9625),C=o(5938),v=o(7009),A=o(3238),h=o(9549),T=o(7392),U=o(1572),b=o(4385),y=o(6308),S=o(266);function q(n,e){if(1&n&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&n){const r=e.$implicit;t.Q6J("value",r.value),t.xp6(1),t.Oqu(r.label)}}function L(n,e){1&n&&(t.TgZ(0,"th",34)(1,"span")(2,"mat-icon",35),t._uU(3,"check_box"),t.qZA(),t._uU(4,"\xa0\xa0Order ID "),t.qZA()())}function M(n,e){1&n&&(t.TgZ(0,"td",36)(1,"span"),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.Oqu("#1234"))}function P(n,e){1&n&&(t.TgZ(0,"th",34)(1,"span")(2,"mat-icon",35),t._uU(3,"redeem"),t.qZA(),t._uU(4,"\xa0\xa0Gift Wrap "),t.qZA()())}function D(n,e){1&n&&(t.TgZ(0,"td",36)(1,"span"),t._UZ(2,"i",37),t.qZA()())}function N(n,e){1&n&&(t.TgZ(0,"th",38)(1,"span")(2,"mat-icon",35),t._uU(3,"group"),t.qZA(),t._uU(4,"\xa0\xa0Customer Details "),t.qZA()())}function w(n,e){if(1&n&&(t.TgZ(0,"td",36)(1,"span")(2,"h3",39),t._uU(3,"Billing Address:"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"span"),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"titlecase"),t.ALo(13,"titlecase"),t.qZA(),t._UZ(14,"br"),t.qZA()()),2&n){const r=e.$implicit;t.xp6(5),t.Oqu(r.customerName),t.xp6(3),t.Oqu(r.customerEmailId),t.xp6(3),t.lnq("",r.customerAddress.doorNoAndStreet,",",t.lcZ(12,5,r.customerAddress.city),",",t.lcZ(13,7,r.customerAddress.state),"")}}function Y(n,e){1&n&&(t.TgZ(0,"th",38)(1,"span")(2,"mat-icon",35),t._uU(3,"assignment_turned_in"),t.qZA(),t._uU(4,"\xa0\xa0Order Details "),t.qZA()())}function F(n,e){if(1&n&&(t.TgZ(0,"div",41)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"span"),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"span"),t._uU(11),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"span"),t._uU(14),t.qZA(),t._UZ(15,"br"),t.qZA()),2&n){const r=e.$implicit,i=e.index;t.xp6(2),t.AsE("",i+1,"",".",""),t.xp6(2),t.Oqu(t.lcZ(5,8,r.productId.productName)),t.xp6(4),t.Oqu(r.productId.category.join(", ")),t.xp6(3),t.AsE("","Quantity:","",r.quantity,""),t.xp6(3),t.AsE("","Price:","",r.productId.actualPrice,"")}}function k(n,e){if(1&n&&(t.TgZ(0,"td",36)(1,"span")(2,"h3",39),t._uU(3,"Product:"),t.qZA(),t.YNc(4,F,16,10,"div",40),t.qZA()()),2&n){const r=e.$implicit;t.xp6(4),t.Q6J("ngForOf",r.orders)}}function I(n,e){1&n&&(t.TgZ(0,"th",42)(1,"span")(2,"mat-icon",35),t._uU(3,"task_alt"),t.qZA(),t._uU(4,"\xa0\xa0Order Status "),t.qZA()())}function Q(n,e){if(1&n){const r=t.EpF();t.TgZ(0,"span",46),t.NdJ("click",function(){t.CHM(r);const a=t.oxw().$implicit,d=t.oxw();return t.KtG(d.updateOrderStatus(a))}),t.TgZ(1,"mat-icon",47),t._uU(2,"shopping_basket"),t.qZA()()}}function J(n,e){if(1&n){const r=t.EpF();t.TgZ(0,"span",46),t.NdJ("click",function(){t.CHM(r);const a=t.oxw().$implicit,d=t.oxw();return t.KtG(d.updateOrderStatus(a))}),t.TgZ(1,"mat-icon",48),t._uU(2,"local_shipping"),t.qZA()()}}function z(n,e){1&n&&(t.TgZ(0,"span")(1,"mat-icon",49),t._uU(2,"check_circle"),t.qZA()())}function B(n,e){if(1&n&&(t.TgZ(0,"td",43),t.YNc(1,Q,3,0,"span",44),t.YNc(2,J,3,0,"span",44),t.YNc(3,z,3,0,"span",45),t.qZA()),2&n){const r=e.$implicit;t.xp6(1),t.Q6J("ngIf","dispatch"==r.orderStatus),t.xp6(1),t.Q6J("ngIf","pending"==r.orderStatus),t.xp6(1),t.Q6J("ngIf","delivered"==r.orderStatus)}}function E(n,e){1&n&&t._UZ(0,"tr",50)}function H(n,e){1&n&&t._UZ(0,"tr",51)}function $(n,e){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"mat-spinner",53),t.qZA()),2&n&&(t.xp6(1),t.Q6J("diameter",50))}class p{constructor(e,r,i,a){this.api=e,this.dialog=r,this.router=i,this.snackbar=a,this.dataSource=new s.by([]),this.columnsToDisplay=["order_id","gift","customer_details","order_details","order_status"],this.orderStatus=[{label:"Dispatch",value:"dispatch"},{label:"On the way",value:"pending"},{label:"Delivered",value:"delivered"}],this.orderStatusPending=0,this.orderStatusDispatch=0,this.orderStatusdelivery=0}ngOnInit(){this.getOrderList()}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}applyTypeFilter(){this.dataSource.data=this.selectedValue&&this.selectedValue.length?this.orderList.filter(e=>this.selectedValue.some(r=>-1!==e.orderStatus.indexOf(r))):this.orderList}viewMarket(e){this.router.navigate(["/marketing/view",e])}getOrderList(){this.api.apiGetCall("Order/getAllOrder").subscribe(e=>{this.orderList=e.data,this.dataSource.data=e.data,this.allOrderList=this.orderList,this.getCountStatus()})}getCountStatus(){let e=[],r=[],i=[];this.allOrderList.forEach(a=>{"pending"==a.orderStatus?e.push(a):"dispatch"==a.orderStatus?r.push(a):i.push(a)}),this.orderStatusPending=e.length,this.orderStatusDispatch=r.length,this.orderStatusdelivery=i.length}updateOrderStatus(e){this.dialog.open(O.$,{width:"pending"===e.orderStatus?"350px":"300px",data:{from:"orderStatus",data:e}}).afterClosed().subscribe(i=>{i&&this.api.apiPutCall({_id:e._id,orderStatus:"dispatch"===e.orderStatus?"pending":"delivered"},"Order/updateOrder").subscribe(d=>{d.message.includes("Update Order Successfully")&&(this.snackbar.openFromComponent(x.h,{data:d.message}),this.getOrderList())},d=>{})})}}p.\u0275fac=function(e){return new(e||p)(t.Y36(Z.s),t.Y36(C.uw),t.Y36(m.F0),t.Y36(v.ux))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-order-list"]],decls:63,vars:12,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],[1,"card-stat",2,"background","#c2e1fe"],[1,"title"],[1,"flex-bot"],[1,"rate",2,"color","#2193f8"],[1,"card-stat",2,"background","#fcf1d9"],[1,"rate",2,"color","#f5b707"],[1,"card-stat",2,"background","#e8cfe2"],[1,"rate",2,"color","#b33789"],[1,"card"],[1,"row",2,"display","flex","flex-direction","row","align-items","center"],[1,"section-b","col-md-6"],["type","text","name","Search","placeholder","Search...",1,"input","m-3",3,"keyup"],[1,"col-md-6",2,"display","flex","justify-content","flex-end"],["appearance","outline"],["multiple","",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","order_id"],["class","first","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","gift"],["matColumnDef","customer_details"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","order_details"],["matColumnDef","order_status"],["class","last","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner-container",4,"ngIf"],[3,"value"],["mat-header-cell","",1,"first"],[1,"headerIcon"],["mat-cell",""],[1,"fa","fa-gift","fa-3x",2,"color","#7B1868"],["mat-header-cell",""],[1,"font-weight-bolder",2,"margin-bottom","0px"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],["mat-header-cell","",1,"last"],["mat-cell","",2,"text-align","center"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["matTooltip","Dispatch",1,"cursor-pointer",2,"color","#ff0303"],["matTooltip","On the Way",1,"cursor-pointer",2,"color","#f29d08"],["matTooltip","Delivered",2,"color","#00ff59"],["mat-header-row",""],["mat-row",""],[1,"spinner-container"],[3,"diameter"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"span",6),t._uU(8),t.qZA(),t._uU(9,"\xa0"),t.TgZ(10,"span"),t._uU(11,"| impression - 10 %"),t.qZA()()()(),t.TgZ(12,"div",2)(13,"div",7)(14,"span",4),t._uU(15),t.qZA(),t.TgZ(16,"div",5)(17,"span",8),t._uU(18),t.qZA(),t._uU(19,"\xa0"),t.TgZ(20,"span"),t._uU(21,"| impression - 15 %"),t.qZA()()()(),t.TgZ(22,"div",2)(23,"div",9)(24,"span",4),t._uU(25),t.qZA(),t.TgZ(26,"div",5)(27,"span",10),t._uU(28),t.qZA(),t._uU(29,"\xa0"),t.TgZ(30,"span"),t._uU(31,"| impression - 16 %"),t.qZA()()()()(),t.TgZ(32,"div",11)(33,"div",12)(34,"div",13)(35,"input",14),t.NdJ("keyup",function(a){return r.applyFilter(a.target.value)}),t.qZA()(),t.TgZ(36,"div",15)(37,"form")(38,"mat-form-field",16)(39,"mat-label"),t._uU(40,"Select Order"),t.qZA(),t.TgZ(41,"mat-select",17),t.NdJ("valueChange",function(a){return r.selectedValue=a})("selectionChange",function(){return r.applyTypeFilter()}),t.YNc(42,q,2,2,"mat-option",18),t.qZA()()()()()(),t.TgZ(43,"div",11)(44,"table",19),t.ynx(45,20),t.YNc(46,L,5,0,"th",21),t.YNc(47,M,3,1,"td",22),t.BQk(),t.ynx(48,23),t.YNc(49,P,5,0,"th",21),t.YNc(50,D,3,0,"td",22),t.BQk(),t.ynx(51,24),t.YNc(52,N,5,0,"th",25),t.YNc(53,w,15,9,"td",22),t.BQk(),t.ynx(54,26),t.YNc(55,Y,5,0,"th",25),t.YNc(56,k,5,1,"td",22),t.BQk(),t.ynx(57,27),t.YNc(58,I,5,0,"th",28),t.YNc(59,B,4,3,"td",29),t.BQk(),t.YNc(60,E,1,0,"tr",30),t.YNc(61,H,1,0,"tr",31),t.qZA(),t.YNc(62,$,2,1,"div",32),t.qZA()()),2&e&&(t.xp6(5),t.Oqu("New Orders"),t.xp6(3),t.Oqu(r.orderStatusPending),t.xp6(7),t.Oqu("Dispatched Orders"),t.xp6(3),t.Oqu(r.orderStatusDispatch),t.xp6(7),t.Oqu("Delivered Orders"),t.xp6(3),t.Oqu(r.orderStatusdelivery),t.xp6(13),t.Q6J("value",r.selectedValue),t.xp6(1),t.Q6J("ngForOf",r.orderStatus),t.xp6(2),t.Q6J("dataSource",r.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",r.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",r.columnsToDisplay),t.xp6(1),t.Q6J("ngIf",0===r.dataSource.data.length))},dependencies:[u.sg,u.O5,A.ey,h.KE,h.hX,T.Hw,U.Ou,b.gD,y.YE,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,S.gM,g._Y,g.JL,u.rS],styles:[".section-b[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:15px;border:none;border-radius:10px;background:#f3f3f9;width:100%;line-height:24px}.add-coupon[_ngcontent-%COMP%]{font-size:16px}.add-coupon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500!important;color:#0E1F53!important;text-decoration:none!important}.card[_ngcontent-%COMP%]{background-color:#fff;height:90%;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:5px;text-align:center;margin:10px}.rate[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.card-stat[_ngcontent-%COMP%]{background-color:#fff;height:90%;border-radius:18px;box-shadow:0 2px 5px #0000001a;padding:25px;text-align:center;margin:10px}.disFlex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .normal-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{border:none;height:2.375rem;padding-left:2.5rem;padding-right:1.25rem;background-color:#f3f3f9;box-shadow:none;border-radius:1.875rem;outline:0}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .normal-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;font-size:1rem;line-height:2.375rem;left:.813rem;top:0;color:#74788d}.mat-table[_ngcontent-%COMP%]{width:100%}.displayicon[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.activeWhatsappIcon[_ngcontent-%COMP%]{background-color:green;color:#fff;font-size:16px;padding:5px;border-radius:5px}.disActiveIcon[_ngcontent-%COMP%]{background-color:#fff;filter:grayscale(100%);font-size:16px;padding:5px;border-radius:5px}.activeSmsIcon[_ngcontent-%COMP%]{background-color:#dcdcdc;color:#2a2a84;font-size:16px;padding:5px;border-radius:5px}.activeEmailIcon[_ngcontent-%COMP%]{background-color:#fa0303;color:#fff;font-size:16px;padding:5px;border-radius:5px}.headerIcon[_ngcontent-%COMP%]{color:#0E1F53;position:relative;top:5px}.title[_ngcontent-%COMP%]{text-align:center;font-weight:600}"]});var R=o(7506);const j=[{path:"",component:l,children:[{path:"list",component:p}]}];class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[u.ez,_.q,m.Bz.forChild(j),g.UX,R.m]})}}]);